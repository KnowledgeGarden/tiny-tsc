 { 	Cytokine.R		changes:	1/13/95     start up JAR		950303		jp2: major updates		}\ =============================================\ Cytokine.KB--RULES\ =============================================c:	macrophage.secretes.cytokines	level			basic	sub.of			phys.process	instance.of		process.rule  \ popsim.rule	my.creator		JAR	context			immunology	if.actors		( ( inducer ( *inducer ) true )					  ( activated.macrophage ( *activated.macrophage ) true ) )	if.relates		( ( abuts ( *activated.macrophage *inducer ) true ) )	if.states		( ( activated ( *induced.macrophage ) true ) )	if.not.actors	( ( il-10 ( *x ) true ) )	then.create		( *TGF-BETA *TNF-ALPHA *IL-12 *IL-10 *IL-8 *IL-6 *IL-1 )	then.actors		( ( TGF-BETA ( *TGF-BETA ) true )					  ( TNF-ALPHA ( *TNF-ALPHA ) true )					  ( IL-12 ( *IL-12 ) true )					  ( IL-10 ( *IL-10 ) true )					  ( IL-8 ( *IL-8 ) true )					  ( IL-6 ( *IL-6 ) true )					  ( IL-1 ( *IL-1 ) true ) )	then.states		( ( secreting ( *macrophage *tgf-beta ) true )					  ( secreting ( *macrophage *TNF-ALPHA ) true )					  ( secreting ( *macrophage *IL-12 ) true )					  ( secreting ( *macrophage *IL-10 ) true )					  ( secreting ( *macrophage *IL-8 ) true )					  ( secreting ( *macrophage *IL-6 ) true )					  ( secreting ( *macrophage *IL-1 ) true ) )	then.say		"activated macrophage.secretes.cytokines "\ a kind of rule to make the envisionment grow: when a cell and cytokine exist\	they abutc:	make.activated.helper.T1-cell.1	level			basic	sub.of			phys.process	instance.of		process.rule \ popsim.rule	my.creator		JAR	context			immunology	if.actors		( ( IL-1 ( *IL-1 ) true ) 					  ( helper.T1-cell ( *helper.T1-cell ) true )					  ( inducer.APC ( *APC ) true ) )				  	if.states		( ( secreting ( *APC *IL-1 ) true ) )	if.relates		( ( abuts ( *helper.T1-cell *APC ) true ) )	then.create		( *TNF-BETA  *IFN-GAMMA *IL-13 *IL-9 *IL-3 *IL-2 )	then.actors		( ( TNF-BETA ( *TNF-BETA ) true )					  ( IFN-GAMMA ( *IFN-GAMMA ) true )					  ( IL-13 ( *IL-13 ) true )					  ( IL-9 ( *IL-9 ) true )					  ( IL-3 ( *IL-3 ) true )					  ( IL-2 ( *IL-2 ) true ) 					  ( helper.T1-cell ( *helper.T1-cell ) true ) 					  ( helper.t1-cell ( *helper.T1-cell ) false ) )	then.states		( ( secreting ( *helper.T1-cell *TNF-BETA ) true )					  ( secreting ( *helper.T1-cell *IFN-GAMMA ) true )					  ( secreting ( *helper.T1-cell *IL-13 ) true )					  ( secreting ( *helper.T1-cell *IL-9 ) true )				 	  ( secreting ( *helper.T1-cell *IL-3 ) true )					  ( secreting ( *helper.T1-cell *IL-2 ) true ) 					  ( proliferates ( *helper.t1-cell) true ) )	then.say		"made activated.helper.T1-cell"c:	make.activated.helper.T1-cell.2	level			basic	sub.of			phys.process	instance.of		process.rule \ popsim.rule	my.creator		JAR	context			immunology	if.actors		( ( IL-1 ( *IL-1 ) true ) 					  ( helper.T1-cell ( *helper.T1-cell ) true )					  ( helper.T2-cell ( *helper.T2-cell ) true )					  ( inducer.APC ( *APC ) true ) )				  	if.states		( ( secreting ( *APC *IL-1 ) true ) )	if.relates		( ( abuts ( *helper.T1-cell *APC ) true ) )	then.create		( *TNF-BETA  *IFN-GAMMA *IL-13 *IL-9 *IL-3 *IL-2 )	then.actors		( ( TNF-BETA ( *TNF-BETA ) true )					  ( IFN-GAMMA ( *IFN-GAMMA ) true )					  ( IL-13 ( *IL-13 ) true )					  ( IL-9 ( *IL-9 ) true )					  ( IL-3 ( *IL-3 ) true )					  ( IL-2 ( *IL-2 ) true ) )	then.states		( ( secreting ( *helper.T1-cell *TNF-BETA ) true )					  ( secreting ( *helper.T1-cell *IFN-GAMMA ) true )					  ( secreting ( *helper.T1-cell *IL-13 ) true )					  ( secreting ( *helper.T1-cell *IL-9 ) true )					  ( secreting ( *helper.T1-cell *IL-3 ) true )					  ( secreting ( *helper.T1-cell *IL-2 ) true ) 					  ( proliferates ( *helper.t1-cell) true ) 					  ( proliferates ( *helper.t2-cell) true )					  ( activated ( *helper.T1-cell ) true ) )	then.say		"made activated.helper.T1-cell"c:	make.activated.helper.T2-cell.1	level			basic	sub.of			phys.process	instance.of		process.rule \ popsim.rule	my.creator		JAR	context			immunology	if.actors		( ( IL-1 ( *IL-1 ) true ) 					  ( helper.T2-cell ( *helper.T2-cell ) true )					  ( inducer.APC ( *APC ) true ) )				  	if.states		( ( secreting ( *APC *IL-1 ) true ) )	if.relates		( ( abuts ( *helper.T2-cell *APC ) true ) )	then.create		( *il-13 *il-10  *il-9 *IL-6 *IL-4 *IL-3 )	then.actors		( ( il-13 ( *il-13 ) true )					  ( il-10 ( *il-10 ) true )					  ( IL-9 ( *IL-9 ) true )					  ( IL-6 ( *IL-6 ) true )					  ( IL-4 ( *IL-4 ) true )					  ( IL-3 ( *IL-3 ) true ) )	then.states		( ( secreting ( *helper.T2-cell  *il-13 ) true )				 	  ( secreting ( *helper.T2-cell *il-10 ) true )					  ( secreting ( *helper.T2-cell *il-9 ) true )					  ( secreting ( *helper.T2-cell *IL-6 ) true )					  ( secreting ( *helper.T2-cell *IL-4 ) true )					  ( secreting ( *helper.T2-cell *IL-3 ) true ) 					  ( proliferates ( *helper.t2-cell) true ) 					  ( activated ( *helper.T2-cell ) true ))	then.say		"made activated.helper.T2-cell"c:	make.activated.helper.T2-cell.2	level			basic	sub.of			phys.process	instance.of		process.rule \ popsim.rule	my.creator		JAR	context			immunology	if.actors		( ( IL-1 ( *IL-1 ) true ) 					  ( helper.T2-cell ( *helper.T2-cell ) true )					  ( helper.T1-cell ( *helper.T1-cell ) true )					  ( inducer.APC ( *APC ) true ) )				  	if.states		( ( secreting ( *APC *IL-1 ) true ) )	if.relates		( ( abuts ( *helper.T2-cell *APC ) true ) )	then.create		( *il-13 *il-10  *il-9 *IL-6 *IL-4 *IL-3 )	then.actors		( ( il-13 ( *il-13 ) true )					  ( il-10 ( *il-10 ) true )					  ( IL-9 ( *IL-9 ) true )					  ( IL-6 ( *IL-6 ) true )					  ( IL-4 ( *IL-4 ) true )					  ( IL-3 ( *IL-3 ) true ))	then.states		( ( secreting ( *helper.T2-cell  *il-13 ) true )				 	  ( secreting ( *helper.T2-cell *il-10 ) true )					  ( secreting ( *helper.T2-cell *il-9 ) true )					  ( secreting ( *helper.T2-cell *IL-6 ) true )					  ( secreting ( *helper.T2-cell *IL-4 ) true )					  ( secreting ( *helper.T2-cell *IL-3 ) true ) 					  ( proliferates ( *helper.t2-cell) true ) 					  ( activated ( *helper.T2-cell ) true ) )	then.say		"made activated.helper.T2-cell"c:	helper.T1-cell.abuts.cytokine	level			basic	sub.of			phys.process	instance.of		process.rule	my.creator		JAR	context			immunology	if.actors		( ( cytokine ( *cytokine ) true )					  ( helper.T1-cell ( *helper.T-cell ) true ) )	if.not.actors		( ( cytokine ( *cytokine ) true )					  ( helper.T1-cell ( *helper.T-cell ) true ) )	then.relates  	( ( abuts ( *helper.T1-cell *cytokine ) true ) )	then.actors		( ( abutted.cytokine.helper.T1 ( *abutted.cytokine.helper.T1 ) true )					( helper.T1-cell ( helper.T1-cell ) false ) )	then.say		"helper.T1-cell abuts cytokine"	c:	helper.T2-cell.abuts.cytokine	level			basic	sub.of			phys.process	instance.of		process.rule	my.creator		JAR	context			immunology	if.actors		( ( cytokine ( *cytokine ) true )					  ( helper.T2-cell ( *helper.T-cell ) true ) )    if.not.actors		( ( cytokine ( *cytokine ) true )					  ( helper.T2-cell ( *helper.T-cell ) true ) )	then.relates  	( ( abuts ( *helper.T-cell *cytokine ) true ) )	then.say		"helper.T2-cell abuts cytokine"					  		c:	T-cell.abuts.inducer	level			basic	sub.of			phys.process	instance.of		process.rule  \ popsim.rule	my.creator		JAR	context			immunology	if.actors  		( ( inducer ( *inducer ) true )					  ( T-cell ( *T-cell ) true ) )	if.relates		( ( abuts ( *T-cell *inducer ) true ) )	if.not.states 	( ( induces.proliferation ( *inducer *T-cell) true ) )	then.states    	( ( induces.proliferation ( *inducer *T-cell) true ) )	then.say		"T-cell abuts inducer proliferates"	c:	make.inducer.APC.1	level			basic	sub.of			phys.process	instance.of		process.rule \ popsim.rule	my.creator		JAR	context			immunology	if.actors		( ( class.II.MHC ( *antigen ) true )					  ( macrophage ( *mac ) true ) )	if.not.actors	( ( inducer.macrophage ( *x ) true ) )	\ dummy variable		  	then.create		( *TNF-BETA  *IFN-GAMMA *IL-13 *IL-9 *IL-3 *IL-2 )	then.actors		( ( TNF-BETA ( *TNF-BETA ) true )					  ( IFN-GAMMA ( *IFN-GAMMA ) true )					  ( IL-13 ( *IL-13 ) true )					  ( IL-9 ( *IL-9 ) true )					  ( IL-3 ( *IL-3 ) true )					  ( IL-2 ( *IL-2 ) true ) 					  ( inducer.macrophage ( *mac ) true ) 					  ( macrophage ( *mac ) false ) )	then.states		( ( secreting ( *mac *TNF-BETA ) true )				  	  ( secreting ( *mac *IFN-GAMMA ) true )					  ( secreting ( *mac *IL-13 ) true )					  ( secreting ( *mac *IL-9 ) true )					  ( secreting ( *mac *IL-3 ) true )					  ( secreting ( *mac *IL-2 ) true ) )	then.say		"made inducer macrophage"{	IMMUNE.KBdescription:		Xneed to do:		Xto improve:		X	PROBLEMS:		Xnotes:			Straighten out cytokine-cell interactions;  make sure cell activation				rules approrpiate; check runtime rule firing to insure that system is				operating properly/realistically!CHANGES:1/13/92			first draft1/16/92			additions2/22/92			began cleanup. NewCentury 12point, TabStops=4, LineWrap=100.				jp2: began trimming rules using new multi-fire QPT3/12/92			jp2: organize rules3/15/92			jp2: edit rules -- there's some bugs in here4/07/92			jp2: edit rules to new syntax5/29/92			jp2: edit rules -- one rule per major actor activity10/15/92			rbt: add rules for antibody, pathogens, stop on antibody production 				experiments with binding trimming10/18/92			rbt: various experiments, edit rules10/25/92			rbt: various experiments, edit rules through11/5/92			rbt: various experiments, edit rules12/18			rbt: then.say and then.log added;  rules made verbose 1/11-13/93		rbt:  Looked for gremlins--made a lot of T- and b-cell rules					"one-shot":  Set initial conditions relations to false, and					only allowed rule to fire on relations false... e.g., b-cell					digests antigens.  Makes some biological sense, and should					cut down on branching!2/12/93			rbt:  eliminated useless proliferation rules; some minor changes2/22/93			jp2: patches to fix it2/24/93			jp2: patches to update to new TSC syntax3/02/93			jp2: no more false actors -- runs on TSC 0.2b123/18/93			dhf: added "instance.of popsim.rule", other PopSim fixes				dhf: added comments about use with PopSim} \ _________________________________________________________ SUPPORT OBJECTS+c:	THEN.SAY	sub.of		information.slot	instance.of	rhs.func	i.take		sx	i.give		none	arguments	*something	algorithm	( display> *something say )\ ______________________________________________________________________  RULEScomment:all rules below have been setup to work with "no false actors".  This routine in QPTwill take any actor which is "false" and delete it from the episode, then it goes and findsany relation or state referencing that actor, and deletes that too.Thus, we spend more time using then.create to bind up "new" variables so we canintroduce new actors and their relations/states at runtime, plus we make heavy useof the "if.not..." constructs to keep rules from multiple firings.comment;\ ____________________________________________________________ STOPPING RULEScomment:you can write stopping rules to halt construction of the envisionmentthis is a model of such a type of rulesome stopping rules are used when a branch of the tree is known to be unproductiveothers simply stop when some goal state is reachedcomment;\ stop when antibody binds antigen rbt--1015c:	VIRAL.INGESTION.STOP.1	level		basic	sub.of		phys.process	instance.of	PROCESS.RULE  \ popsim.rule	\ dropped sense.rule until QPT code patched	my.creator	rbt	context		immunology	if.actors		( ( antibody ( *antibody ) true )				 \ ( virus ( *virus ) true )				 ( macrophage ( *macrophage ) true ) )	if.relates		( ( binds ( *antibody *virus )  true ) )	if.not.relates	( ( ingests ( *macrophage *virus ) true ) )	then.actors	( ( virus ( *virus ) false ) )	\ jp2--will be killed by QPT **	then.relates	( ( ingests ( *macrophage *virus ) true)				  )			 	\ then.terminate	expansion	then.say		" ***Macrophage ingests antibody-bound virus. "	\ ** actually, it won't be killed by QPT because the branch is terminated